.TH BB-HOSTSVC.CGI 1 "Version 4.0-RC4: 27 feb 2005" "Hobbit Monitor"
.SH NAME
bb-hostsvc.cgi \- CGI program to view Hobbit / Big Brother status logs
.SH SYNOPSIS
.B "bb-hostsvc.cgi [--hobbitd|--historical] [--history={top|bottom}]"

.SH DESCRIPTION
\fBbb-hostsvc.cgi\fR
is a CGI program to present a Hobbit / Big Brother status log in HTML 
form (ie, as a web page). It can be used both for the logs
showing the current status, and for historical logs from the
"histlogs" directory. It is normally invoked as a
CGI program, and therefore receives most of the input parameters
via the CGI QUERY_STRING environment variable.

Unless the "--historical" option is present, the current status log
is used. This assumes a QUERY_STRING environment variable of the form
.br
   HOSTSVC=hostname.servicename
.br
where "hostname" is the name of the host with commas instead of dots,
and "servicename" is the name of the service (the column name in Hobbit
or Big Brother). Such links are automatically generated by the
.I bbgen(1)
tool when the environment contains "BBLOGSTATUS=dynamic".

With the "--historical" option present, a historical logfile is
used. This assumes a QUERY_STRING environment variable of the form
.br
   HOST=hostname&SERVICE=servicename&TIMEBUF=timestamp
.br
where "hostname" is the name of the host with commas instead of dots,
"servicename" is the name of the service, and "timestamp" is the time
of the log. This is automatically generated by the
.I bb-hist.cgi(1)
tool.

.SH OPTIONS
.IP "--hobbitd"
Retrieve the current status log from
.I hobbitd(1)
rather than from the logfile. This is for use with the
Hobbit daemon from the Hobbit monitor version 4.

.IP "--historical"
Use a historical logfile instead of the current logfile.

.IP "--history={top|bottom|none}"
When showing the current logfile, provide a "HISTORY" button
at the top or the bottom of the webpage, or not at all. The default 
is to put the HISTORY button at the bottom of the page.

.IP "--env=FILENAME"
Load the environment from FILENAME before executing the CGI.

.IP "--no-svcid"
Do not include the HTML tags to identify the hostname/service
on the generated web page. Useful is this already happens in 
the hostsvc_header template file, for instance.

.IP "--multigraphs=TEST1[,TEST2]"
This causes bb-hostsvc.cgi to generate links to service graphs 
that are split up into multiple images, with at most 5 graphs
per image. This option only works in Hobbit mode. If not
specified, only the "disk" status is split up this way.

.SH FILES
.IP "$BBHOME/web/hostsvc_header"
HTML template header

.IP "$BBHOME/web/hostsvc_footer"
HTML template footer

.SH ENVIRONMENT
.IP "NONHISTS=info,trends,graphs,larrd"
A comma-separated list of services that does not have meaningful
history, e.g. the "info" and "trends" columns. Services listed here
do not get a "History" button.

.IP "LARRDS=test,test"
A comma-separated list of the tests that have a LARRD graph.

.SH "SEE ALSO"
hobbit(7), hobbitd(1)


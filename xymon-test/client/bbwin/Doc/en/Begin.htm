<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML lang="en">
<HEAD>
 <LINK rel="StyleSheet" href="../BBWin.css">
 <TITLE>Begin with BBWin</TITLE>
 <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
 <meta name="copyright" content="Copyright &copy; 2006 by Etienne Grignon. Licenced under GPL.">
</HEAD>
<BODY>
 <H1>Begin with BBWin</H1>
 <H3>Installation</H3>
 <P>To install BBWin, go to the <a href="http://sourceforge.net/projects/bbwin" target="_blank">BBWin sourceforge page</a> to download the lastest release of BBWin.
 You can then launch it and choose where you want to install the BBWin 
 tree and choose the components you want to use. Installation is really easy thanks to the native Windows Installer package available.
It permits you to deploy the BBWin software automatically on many servers if you 
are using active directory policies. Installation doesn't need any computer restart.
</P>
<H3>BBWin installation tree</H3>
<p>
The table below lists you the different important folders of the BBWin installation tree.
By default, BBWin is installed on C:\Program Files\BBWin.
</p>
<br>
<p style="margin-right: 35.25pt">
<table class="MsoTableGrid" style="border-collapse: collapse; border: medium none; margin-left: -0.4pt" cellSpacing="0" cellPadding="0" border="1" id="table1">
	<tr>
		<td style="width: 2.25in; border: 1pt solid windowtext; padding-left: 5.4pt; padding-right: 5.4pt; padding-top: 0in; padding-bottom: 0in; background: #e0e0e0" vAlign="top" width="216">
		<p style="margin-right: 0.5in"><b>
		bin</b></td>
		<td style="width: 315pt; border-left: medium none; border-right: 1pt solid windowtext; border-top: 1pt solid windowtext; border-bottom: 1pt solid windowtext; padding-left: 5.4pt; padding-right: 5.4pt; padding-top: 0in; padding-bottom: 0in" vAlign="top" width="420">
		<p style="margin-right: 0.5in">
		BBwin binaries, DLL agents, externals scripts. The folder path is configured in the BBWin registry.</td>
	</tr>
	<tr>
		<td style="width: 2.25in; border-left: 1pt solid windowtext; border-right: 1pt solid windowtext; border-top: medium none; border-bottom: 1pt solid windowtext; padding-left: 5.4pt; padding-right: 5.4pt; padding-top: 0in; padding-bottom: 0in; background: #e0e0e0" vAlign="top" width="216">
		<p style="margin-right: 0.5in"><b>
		doc</b></td>
		<td style="width: 315pt; border-left: medium none; border-right: 1pt solid windowtext; border-top: medium none; border-bottom: 1pt solid windowtext; padding-left: 5.4pt; padding-right: 5.4pt; padding-top: 0in; padding-bottom: 0in" vAlign="top" width="420">
		<p style="margin-right: 0.5in">
		documentation for BBWin and externals.</td>
	</tr>
	<tr>
		<td style="width: 2.25in; border: 1pt solid windowtext; padding-left: 5.4pt; padding-right: 5.4pt; padding-top: 0in; padding-bottom: 0in; background: #e0e0e0" vAlign="top" width="216">
		<p style="margin-right: 0.5in"><b>
		etc</b></td>
		<td style="width: 315pt; border-left: medium none; border-right: 1pt solid windowtext; border-top: 1pt solid windowtext; border-bottom: 1pt solid windowtext; padding-left: 5.4pt; padding-right: 5.4pt; padding-top: 0in; padding-bottom: 0in" vAlign="top" width="420">
		<p style="margin-right: 0.5in">
		configuration files for BBWin and externals. The folder path is configured in the BBWin registry.</td>
	</tr>
	<tr>
		<td style="width: 2.25in; border-left: 1pt solid windowtext; border-right: 1pt solid windowtext; border-top: medium none; border-bottom: 1pt solid windowtext; padding-left: 5.4pt; padding-right: 5.4pt; padding-top: 0in; padding-bottom: 0in; background: #e0e0e0" vAlign="top" width="216">
		<p style="margin-right: 0.5in"><b>
		logs</b></td>
		<td style="width: 315pt; border-left: medium none; border-right: 1pt solid windowtext; border-top: medium none; border-bottom: 1pt solid windowtext; padding-left: 5.4pt; padding-right: 5.4pt; padding-top: 0in; padding-bottom: 0in" vAlign="top" width="420">
		<p style="margin-right: 0.5in">
		folder for BBWin logs</td>
	</tr>
	<tr>
		<td style="width: 2.25in; border-left: 1pt solid windowtext; border-right: 1pt solid windowtext; border-top: medium none; border-bottom: 1pt solid windowtext; padding-left: 5.4pt; padding-right: 5.4pt; padding-top: 0in; padding-bottom: 0in; background: #e0e0e0" vAlign="top" width="216">
		<p style="margin-right: 0.5in"><b>
		tmp</b></td>
		<td style="width: 315pt; border-left: medium none; border-right: 1pt solid windowtext; border-top: medium none; border-bottom: 1pt solid windowtext; padding-left: 5.4pt; padding-right: 5.4pt; padding-top: 0in; padding-bottom: 0in" vAlign="top" width="420">
		<p style="margin-right: 0.5in">
		temporary folder available for BBWin externals or agents. The folder path is configured in the BBWin registry.
		</td>
	</tr>
	<tr>
		<td style="width: 2.25in; border-left: 1pt solid windowtext; border-right: 1pt solid windowtext; border-top: medium none; border-bottom: 1pt solid windowtext; padding-left: 5.4pt; padding-right: 5.4pt; padding-top: 0in; padding-bottom: 0in; background: #e0e0e0" vAlign="top" width="216">
		<p style="margin-right: 0.5in"><b>
		tools</b></td>
		<td style="width: 315pt; border-left: medium none; border-right: 1pt solid windowtext; border-top: medium none; border-bottom: 1pt solid windowtext; padding-left: 5.4pt; padding-right: 5.4pt; padding-top: 0in; padding-bottom: 0in" vAlign="top" width="420">
		<p style="margin-right: 0.5in">
		BBWin tools. Migration tools for example.
		</td>
	</tr>
</table>
<br>
<img src="../greensep.png" alt="Green Separator">
<br>
<H3>BBWin Registry</H3>
<p>
BBWin requires some registry settings to work. The installer will create them but you may need to change
some values. Registry setting is very short because the major part of the configuration is located
in the BBWin configuration file to facilitate backups and configuration manipulations.
</p>
<p>The table below lists the different keys :
</p>
<p style="margin-right: 35.25pt">
<table class="MsoTableGrid" style="border-collapse: collapse; border: medium none; margin-left: -0.4pt" cellSpacing="0" cellPadding="0" border="1" id="table2">
	<tr>
		<td style="width: 2.25in; border: 1pt solid windowtext; padding-left: 5.4pt; padding-right: 5.4pt; padding-top: 0in; padding-bottom: 0in; background: #e0e0e0" vAlign="top" width="216">
		<p style="margin-right: 0.5in"><b>
		HKEY_LOCAL_MACHINE\SOFTWARE\BBWin\binpath</b></td>
		<td style="width: 315pt; border-left: medium none; border-right: 1pt solid windowtext; border-top: 1pt solid windowtext; border-bottom: 1pt solid windowtext; padding-left: 5.4pt; padding-right: 5.4pt; padding-top: 0in; padding-bottom: 0in" vAlign="top" width="420">
		<p style="margin-right: 0.5in">
		It tells BBWin in which folder are the agents to load. This folder is also the current directory
		of BBWin service process.</td>
	</tr>
	<tr>
		<td style="width: 2.25in; border-left: 1pt solid windowtext; border-right: 1pt solid windowtext; border-top: medium none; border-bottom: 1pt solid windowtext; padding-left: 5.4pt; padding-right: 5.4pt; padding-top: 0in; padding-bottom: 0in; background: #e0e0e0" vAlign="top" width="216">
		<p style="margin-right: 0.5in"><b>
		HKEY_LOCAL_MACHINE\SOFTWARE\BBWin\etcpath</b></td>
		<td style="width: 315pt; border-left: medium none; border-right: 1pt solid windowtext; border-top: medium none; border-bottom: 1pt solid windowtext; padding-left: 5.4pt; padding-right: 5.4pt; padding-top: 0in; padding-bottom: 0in" vAlign="top" width="420">
		<p style="margin-right: 0.5in">
		It tell BBWin where are the configuration files. The most important configuration file is the BBWin.cfg file.</td>
	</tr>
	<tr>
		<td style="width: 2.25in; border: 1pt solid windowtext; padding-left: 5.4pt; padding-right: 5.4pt; padding-top: 0in; padding-bottom: 0in; background: #e0e0e0" vAlign="top" width="216">
		<p style="margin-right: 0.5in"><b>
		HKEY_LOCAL_MACHINE\SOFTWARE\BBWin\hostname</b></td>
		<td style="width: 315pt; border-left: medium none; border-right: 1pt solid windowtext; border-top: 1pt solid windowtext; border-bottom: 1pt solid windowtext; padding-left: 5.4pt; padding-right: 5.4pt; padding-top: 0in; padding-bottom: 0in" vAlign="top" width="420">
		<p style="margin-right: 0.5in">
		It tells BBWin which hostname uses for the monitoring. It must conrespond to the name configured in the bb-hosts file
on the monitoring server side.<img src="../yellow.gif" alt="Warning"> This registry key
is created empty at the first installation. <b>You must configure it manually</b>.</td>
	</tr>
	<tr>
		<td style="width: 2.25in; border-left: 1pt solid windowtext; border-right: 1pt solid windowtext; border-top: medium none; border-bottom: 1pt solid windowtext; padding-left: 5.4pt; padding-right: 5.4pt; padding-top: 0in; padding-bottom: 0in; background: #e0e0e0" vAlign="top" width="216">
		<p style="margin-right: 0.5in"><b>
		HKEY_LOCAL_MACHINE\SOFTWARE\BBWin\tmppath</b></td>
		<td style="width: 315pt; border-left: medium none; border-right: 1pt solid windowtext; border-top: medium none; border-bottom: 1pt solid windowtext; padding-left: 5.4pt; padding-right: 5.4pt; padding-top: 0in; padding-bottom: 0in" vAlign="top" width="420">
		<p style="margin-right: 0.5in">
		folder for temporary files. It may be used for your externals scripts.</td>
	</tr>
</table>
<p>
Note : BBWin can't start if one of these keys are deleted.
</p>
<br>
<img src="../greensep.png" alt="Green Separator">
<br>
<H3>Running BBWin</H3>
<p>
BBWin is installed as a native service. You can start it from the 
Services Management console or via a command line window by
typing the command :
<p class="Command">
net start bbwin
</p>
<p>BBWin service has the display name :  <b> Big Brother Hobbit Client </b> and is installed
on automatic for the startup type.
</p>
<br>
<img src="../greensep.png" alt="Green Separator">
<br>
<H3>BBWin configuration</H3>
<p>
BBWin configuration is located in the etc directory of the BBWin installation tree.
</p>
<p>BBWin configuration is a simple XML file named BBWin.cfg.
</p>
<p>BBWin can't start if the BBWin file is not present or is invalid.
</p>
<p>Here is a small BBWin.cfg example :</p>
<p>
<pre class="Config">
&lt;?xml version="1.0" encoding="utf-8" ?&gt;
&lt;configuration&gt;
&lt;bbwin&gt;
&lt;setting name="bbdisplay" value="myhobbitserver.local" /&gt;
&lt;setting name="usepager" value="false" /&gt;
&lt;setting name="bbpager" value="firstbbpager" /&gt;
&lt;setting name="pagerlevels" value="red purple yellow" /&gt;
&lt;setting name="timer" value="5m" /&gt;
&lt;setting name="autoreload" value="true" /&gt;

&lt;load name="memory" value="memory.dll"/&gt;
&lt;load name="uptime" value="uptime.dll" timer="10m" /&gt;

&lt;setting name="logpath" value="C:\Program Files\BBWin\logs\BBWin.log"/&gt;
&lt;setting name="loglevel" value="3" /&gt;
&lt;setting name="logreportfailure" value="false" /&gt;
&lt;/bbwin&gt;
&lt;memory&gt;
	&lt;setting name="physical" warnlevel="78" paniclevel="98" /&gt;
	&lt;setting name="page" warnlevel="70" paniclevel="90" /&gt;
	&lt;setting name="virtual" warnlevel="78" paniclevel="90" /&gt;
&lt;/memory&gt;
&lt;procs&gt;
	&lt;setting name="cmd" rule="+1" alarmcolor="yellow" /&gt;
	&lt;setting name="drwtsn32" rule="=0" alarmcolor="yellow" /&gt;
	&lt;setting name="putty" rule="-2" alarmcolor="red" /&gt;
&lt;/procs&gt;
&lt;svcs&gt;
	&lt;setting name="alwaysgreen" value="false" /&gt;
	&lt;setting name="alarmcolor" value="yellow" /&gt;
	&lt;setting name="autoreset" value="false" /&gt;
	&lt;setting name="IPSEC Services" value="=started" autoreset="false" alarmcolor="red" /&gt;
	&lt;setting name="Windows Installer" value="=started" autoreset="false" alarmcolor="yellow" /&gt;
	&lt;setting name="Simple Service" autoreset="true" value="started" /&gt;
&lt;/svcs&gt;
&lt;uptime&gt;
	&lt;setting name="delay" value="1h" /&gt;
&lt;/uptime&gt;
&lt;/configuration&gt;
</pre>
</BODY>
</HTML>

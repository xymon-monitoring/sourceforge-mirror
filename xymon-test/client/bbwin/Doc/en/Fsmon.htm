<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML lang="en">
<HEAD>
 <LINK rel="StyleSheet" href="../BBWin.css">
 <TITLE>Fsmon</TITLE>
 <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
 <meta name="copyright" content="Copyright &copy; 2006 by Etienne Grignon. Licenced under GPL.">
</HEAD>
<BODY>
 <H1>Fsmon</H1>
 <H3>Description</H3>
<p>
Fsmon vbscript is used to monitor folders. It will warn depending :
<UL>
	<LI> the number of files in a particular folder
</UL>
</p>
<H3>Usage</H3>
<p>
Fsmon vbscript uses a configuration file called fsmon.cfg which is located in BBWin etc directory at installation.
</p>
<H3>Configuration format</H3>
<p><b>Rule syntax</b></p>
<pre class="Config">
DIR name "path" warnrule panicrule description
</pre>
<p>
 name : title of the directory rule (smtpqueue for example). Must be one word argument.
</p>
<p>
 "path" : full path of the directory to check. path must be enclosed by double quotes '"'
</p>
<p>
 warnrule : <20 mean that the directory must countains less than 20 elements. Operators available are '<', '=', '>'.
            Used for Yellow state.
</p>
<p>
 panicrule : same as warnrule. Used for red state. (If warnrule uses the '=' operator, panicrule must be identical
             to warnrule)
</p>
<p>
 description : may describe the alert and what to do in this case. description must be enclosed by double quotes '"'.
               description will appear only in alert states
</p>
<p>
 All arguments are separated with spaces.
</p>
<p>
<b>Example</b> : Will check than the IIS smtp queue directory contains less than 10 files
</p>
 <pre>
 DIR smtpqueue "C:\Inetpub\mailroot\Queue" <10 <50 "Smtp doesn't seem to send mails. Please check the smtp server"
</pre>
</UL>
<H3>Examples</H3>
<UL>
 <LI>Here an example of report :
 <p>
 <PRE>
12/04/2006 10:32:28 [MYSERVER]


<IMG SRC="../green.png" ALT="green" HEIGHT="16" WIDTH="16" BORDER=0> checking directory smtpqueue 'C:\Inetpub\mailroot\Queue' - Rules are <50 and <100 - Actually 5 file(s)


</PRE>
</p>
</UL>
<H3>Notes</H3>
<UL>
 <LI>This external is not installed by default
 <LI>You may add comments in the fsmon.cfg configuration file, by using the character '#' before your comments
</UL>
</BODY>
</HTML>

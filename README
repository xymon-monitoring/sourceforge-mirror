README file for bbgen, bbtest-net and bbhostgrep version 2.6
============================================================

bbgen is a drop-in replacement for the bb-display.sh script that 
ships with the Big Brother monitoring tool.  It can also replace 
part of the LARRD tool that is often used with Big Brother. See
the INSTALL.bbgen for details

bbtest-net is a utility that can replace the bb-network.sh network 
test utility in Big Brother. See INSTALL.bbtest for details.

bbhostgrep is a utility for use by BB extension scripts. It
allows an extension script to easily pick out the hosts that
are relevant to the script, so it need not parse a huge
bb-hosts file with lots of unwanted test-specifications.
See README.bbhostgrep for details.

bbcombotests is a utility to build complicated tests from simpler
BB test results. E.g. you can define a test that uses the results
from testing your webserver, DB server and router to have a 
single test showing the availability of your enterprise web
application.

All tools are Copyright (C) 2002-2003, Henrik Storner <henrik@storner.dk> 
All files are released under the GNU General Public License version 2, 
with the additional exemption that compiling, linking, and/or using OpenSSL 
is allowed.  See the file COPYING for details.

A site running this software can be seen at http://www.hswn.dk/bb/


Features
--------

The main feature of these tools is speed. My BB installation currently
has about 350 hosts, spread over 50 pages and subpages. The time
to generate the pages with bb-display.sh was about 12 minutes;
bbgen does it in less than 5 seconds.

The network test tool bbtest-net also gives significant speed improvements 
for large sites. One site reported that the runtime for their network tests 
dropped from 1000 seconds to about 30.

bbgen also supports the generation of files for the LARRD
graphics plugin for Big Brother (http://www.packetpushers.com/larrd).
LARRD uses a Perl script to generate stub HTML pages on the
Big Brother display - bbgen can generate these pages, so you 
do not need to run the larrd-html.pl script. This gives the
other LARRD scripts more time to handle the import of data
for your trend graphs, instead of wasting it with generation
of the web pages. See the "LARRD support" section in INSTALL.bbgen.

There are a couple of non-standard tags in bb-hosts that the
tools will recognize. See the "README.bbhosts" file for a 
detailed description of these.


Requirements
------------

A working Big Brother installation. Get BB up and running first,
then you can drop in bbgen and bbtest-net to speed things up.

Building the bbtest-net tool requires that the "curl" library
is available. This library is available from http://curl.haxx.se/
Many Linux distributions include curl as part of the standard
software - make sure you have the development files installed
as well. You should use version 7.9.8 or later of the library,
as some features needed by bbtest-net are not available in earlier
versions.

For network connectivity tests, the fping utility must be 
installed. This is available from www.fping.org.


Compatibility
-------------

bbgen is intended to be a drop-in replacement for the bb-display.sh
script in Big Brother version 1.9c. The pages generated by bbgen should 
be similar to what you get with bb-display.sh from BB version 1.9c.

If you enable bbgen's LARRD support, you will need to change a few
of the Big Brother files - see "LARRD support" in INSTALL.bbgen. 
The LARRD support has been tested with LARRD 0.42 and LARRD 0.43c.

The only known difference is that pages with both hosts and subpages
have the hosts first in standard Big Brother; bbgen by default places 
the hosts last (after the subpages). If you want the standard BB
behaviour, run bbgen with the "--pages-last" option.

The following features in bb-display.sh are not currently implemented
in bbgen:

* "group" directives in bb-hosts are handled as "group-compress".
  I currently have no plans to support the simple "group"
  directive.

* Modem banks are not handled at all by bbgen. This directive
  is simply ignored - if you have a pressing need for bbgen
  to support it, let me know.


bbtest-net is a drop-in replacements for the standard bb-network.sh 
script, with the following exceptions:

* bbtest-net uses the "fping" tool from www.fping.com to do
  connectivity (ping) tests. If you don't have fping installed,
  bbtest-net will complain; you can disable the ping tests by
  running bbtest-net with "--noping"

* The ":q" and ":Q" options on individual tests are ignored.

* Dialup-service and modem bank testing is not supported.
  Note: This only applies to the entries in bb-hosts that
  *begin* with the "dialup" keyword, and is used to test
  a range of IP-adresses. The "dialup" flag on a host is
  implemented, as is the "?" on a network test that flags
  it as a "dialup" service.


Installation
------------

See the INSTALL.bbgen file for information on how to install bbgen.

See the INSTALL.bbtest file for information on how to use bbtest-net.


Planned improvements
--------------------

See the "TODO" file. However, I am open to suggestions if you
have a feature you would like to see added.



Henrik Storner <henrik@storner.dk>
July 12, 2003

